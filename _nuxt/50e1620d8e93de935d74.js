(window.webpackJsonp=window.webpackJsonp||[]).push([[5,2,3,4],{233:function(t,e,n){var content=n(236);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(64).default)("5dbdeda8",content,!0,{sourceMap:!1})},234:function(t,e,n){var content=n(238);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(64).default)("33186146",content,!0,{sourceMap:!1})},235:function(t,e,n){"use strict";var r=n(233);n.n(r).a},236:function(t,e,n){(e=n(63)(!1)).push([t.i,"#result[data-v-acab4410]{max-height:800px;min-height:200px;width:100%}.list-group-item[data-v-acab4410]{display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:center;padding:0;background-color:rgba(44,38,38,.8);color:#fff}.list-group-item>img[data-v-acab4410]{flex:initial;min-width:184px}.list-group-item>h3[data-v-acab4410]{flex:auto;text-align:left}",""]),t.exports=e},237:function(t,e,n){"use strict";var r=n(234);n.n(r).a},238:function(t,e,n){(e=n(63)(!1)).push([t.i,".friendlist{height:500px;color:#fff;overflow-y:auto}",""]),t.exports=e},239:function(t,e,n){var content=n(244);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(64).default)("6759f5ab",content,!0,{sourceMap:!1})},240:function(t,e,n){"use strict";n.r(e);var r={props:{user:{type:Object,default:function(){return{name:"DefaultUser"}}},gamelist:{type:Array,required:!0}},methods:{getImageURL:function(t,e){return"http://media.steampowered.com/steamcommunity/public/images/apps/".concat(t,"/").concat(e,".jpg")},formatTimeString:function(t){var e=Math.floor(t/60),n=t%60;return e>0?n>0?"".concat(e,"h").concat(n,"min"):"".concat(e,"h"):"".concat(n,"min")}}},o=(n(235),n(65)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.gamelist?n("b-list-group",{attrs:{id:"results",flush:""}},t._l(t.gamelist,(function(e,r){return n("b-list-group-item",{key:r},[e.img_logo_url||e.img_icon_url?n("img",{attrs:{src:t.getImageURL(e.appid,e.img_logo_url||e.img_icon_url)}}):t._e(),t._v(" "),n("h3",{staticClass:"px-3"},[t._v("\n        "+t._s(e.name)+"\n      ")])])})),1):t._e(),t._v(" "),t.gamelist&&t.gamelist.length<=0?n("h2",[t._v("\n    You don't have any games in common... Sorry ðŸ˜•\n  ")]):t._e()],1)}),[],!1,null,"acab4410",null);e.default=component.exports},241:function(t,e,n){"use strict";n.r(e);n(30),n(29),n(122),n(81);var r={props:["friendlist"],data:function(){return{filterName:"",selectedFriends:[]}},computed:{filteredFriendList:function(){var t=this,e=new RegExp(this.toLowerCase(this.filterName),"g");return this.friendlist?this.friendlist.filter((function(n){return t.toLowerCase(n.name).match(e)})).sort((function(t,e){return t.name.toLowerCase()<e.name.toLowerCase()?-1:1})):[]}},methods:{toLowerCase:function(t){return t.split("").map((function(t){return t.toLowerCase()})).join("")}}},o=(n(237),n(65)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("h1",[t._v("Select the friends you wanna play with")]),t._v(" "),n("div",{staticClass:"content"},[n("b-input",{model:{value:t.filterName,callback:function(e){t.filterName=e},expression:"filterName"}}),t._v(" "),n("b-form-group",{staticClass:"friendlist"},[n("b-form-checkbox-group",{attrs:{id:"checkbox-group-2",name:"flavour-2",stacked:""},model:{value:t.selectedFriends,callback:function(e){t.selectedFriends=e},expression:"selectedFriends"}},t._l(t.filteredFriendList,(function(e,r){return n("b-form-checkbox",{key:r,attrs:{value:e.steamid}},[t._v("\n          "+t._s(e.name)+"\n          "),n("img",{attrs:{src:e.avatar}})])})),1)],1)],1),t._v(" "),n("b-button",{on:{click:function(e){return t.$emit("friendListInput",t.selectedFriends)}}},[t._v("\n    Confirm\n  ")]),t._v(" "),n("b-button",{attrs:{variant:"danger"},on:{click:function(e){t.selectedFriends=[]}}},[t._v("\n    Reset\n  ")])],1)}),[],!1,null,null,null);e.default=component.exports},242:function(t,e,n){"use strict";n.r(e);var r={data:function(){return{username:"",userid:""}},methods:{verifyUser:function(){return!0},submitName:function(){this.$emit("usernameInput",this.username)},submitID:function(){this.$emit("useridInput",this.userid)}}},o=n(65),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Enter a Steam account")]),t._v(" "),n("b-form",{staticClass:"py-2"},[n("b-form-group",{attrs:{label:"Steam ID (Recommended, no setup required)","label-for":"userid-input",description:"You can find your ID on your steam profile in the URL. (ex: https://steamcommunity.com/profiles/<steamid>)"}},[n("b-input-group",[n("b-form-input",{attrs:{id:"userid-input",trim:""},model:{value:t.userid,callback:function(e){t.userid=e},expression:"userid"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"primary"},on:{click:t.submitID}},[t._v("\n            Confirm\n          ")])],1)],1)],1),t._v(" "),n("label",[t._v("OR")]),t._v(" "),n("b-form-group",{attrs:{label:"Steam Name","label-for":"username-input",description:"Works ONLY if you have set a custom ID in your steam profile. (Steam Application > Profile > Modify Profile > Custom URL: http://steamcommunity.com/id/<name>)"}},[n("b-input-group",[n("b-form-input",{attrs:{id:"username-input",trim:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"primary"},on:{click:t.submitName}},[t._v("\n            Confirm\n          ")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},243:function(t,e,n){"use strict";var r=n(239);n.n(r).a},244:function(t,e,n){var r=n(63),o=n(245),c=n(246);e=r(!1);var l=o(c);e.push([t.i,"body{background-image:url("+l+");background-color:#35495e;color:#000}.content{overflow:auto;flex:1 1 auto}#form{position:relative}h1{color:#fff}.blur-bg{background-color:rgba(0,0,0,.7);-webkit-filter:blur(20px);filter:blur(20px)}.container{color:#fff;position:relative;margin:0 auto;display:flex;height:100vh;flex-direction:column;justify-content:space-evenly;align-items:center;text-align:center}#results{flex:1 1 auto;overflow:auto}#header{flex:initial;position:relative;top:0;width:100%;padding-top:10px;padding-bottom:10px}.title{font-family:Quicksand,Source Sans Pro,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;display:block;font-weight:300;font-size:100px;color:#35495e;letter-spacing:1px}.subtitle{font-weight:300;font-size:42px;color:#526488;word-spacing:5px;padding-bottom:15px}.links{padding-top:15px}.absolute{position:absolute;height:100%;width:100%;z-index:-1}",""]),t.exports=e},245:function(t,e,n){"use strict";t.exports=function(t,e){return e||(e={}),"string"!=typeof(t=t&&t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},246:function(t,e,n){t.exports=n.p+"img/8d237eb.jpg"},247:function(t,e,n){"use strict";n.r(e);n(82);var r=n(33),o=(n(10),n(9),n(70),n(25)),c=(n(123),n(124),n(29),n(242)),l=n(241),m=n(240),f={components:{Start:c.default,FriendList:l.default,CommonGameList:m.default},data:function(){return{user:null,selectedTabComponent:"start",friendlist:[],commonGameList:[],friendGameList:[],unauthorizedSteamIDs:[]}},computed:{filteredListGames:function(){return this.listGames.filter((function(t){return t.name&&t.name.length>0&&!(t.name.includes("ValveTestApp")||t.name.includes("UntitledApp"))})).sort((function(t,e){return e.playtime-t.playtime}))},unauthorizedUsers:function(){var t=this;return this.totalFriendList.filter((function(e){return t.unauthorizedSteamIDs.includes(e.steamid)}))},totalFriendList:function(){return[].concat(Object(o.a)(this.friendlist),[this.user])},currentComponent:function(){switch(this.selectedTabComponent){case"start":return c.default;case"friends":return l.default;case"gameList":return m.default;default:return c.default}}},mounted:function(){this.$axios.setBaseURL("http://noxilex.ovh:3001")},methods:{onUserIDInput:function(t){var e=this;this.user||(this.user={}),this.user.steamid=t,this.getPlayersInfo(t).then((function(t){e.user={name:t[0].personaname,icon:t[0].avatar,steamid:t[0].steamid}})).catch((function(t){e.toast("Error","danger",t.response.data.message)})),this.getFriendList(t).then((function(t){e.friendlist=t.map((function(t){return{name:t.personaname,icon:t.avatar,steamid:t.steamid}})),e.selectedTabComponent="friends"})).catch((function(t){e.toast("Error","danger",t.response.data.message)}))},onUsernameInput:function(t){var e=this;this.getUserData(t).then((function(t){if(e.user=t,!t.steamid)throw new Error("No steamid found in user");e.onUserIDInput(t.steamid)})).catch((function(t){e.toast("Error","danger",t.message)}))},getPromiseArray:function(t){var e=this,n=[];return t.forEach((function(t){t?n.push(e.getUserGames(t).catch((function(n){return e.unauthorizedSteamIDs.push(t),n}))):e.toast("Error","danger","Error while trying to get games from steamID: "+t)})),n},onFriendListInput:function(t){var e=this,n=[].concat(Object(o.a)(t),[this.user.steamid]);this.friendGameList=[],this.unauthorizedSteamIDs=[],Promise.all(this.getPromiseArray(n)).then((function(t){var n=t.filter((function(t){return t instanceof Error}));if(n.length>0)throw n;e.friendGameList=t,e.friendGameList=e.friendGameList.filter((function(t){var e=void 0!==t;return e}));var r=e.getCommonGames(e.friendGameList);e.commonGameList=r,e.selectedTabComponent="gameList"})).catch((function(t){e.toast("Error","danger","Missing permission to get list of games for users: "+e.unauthorizedUsers.map((function(t){return t.name})).join(", ")),e.selectedTabComponent="friends"}))},getCommonGames:function(t){var e=t[0];return Array.isArray(t)&&t.length>1&&t.forEach((function(t){var n=e.map((function(t){return t.appid})),r=[];t.forEach((function(t){n.includes(t.appid)&&r.push(t)})),e=r})),e},getFriendList:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={url:"/getFriendList",method:"get",responseType:"json",params:{steamid:t,relationship:"friend"}},n.next=3,e.$axios(r).then((function(t){return t.data.friendslist.friends}));case 3:return o=n.sent,n.abrupt("return",e.getPlayersInfo(o.map((function(t){return t.steamid})).join(",")));case 5:case"end":return n.stop()}}),n)})))()},getPlayersInfo:function(t){var e={url:"/getPlayerNames",method:"get",responseType:"json",params:{steamids:t}};return this.$axios(e).then((function(t){return t.data.players}))},getGameInfo:function(t){var e={url:"/getGameInfos",method:"get",responseType:"json",params:{appid:t}};return this.$axios(e).then((function(t){if(t.error)throw new Error(t.error);return t.data.game})).catch((function(t){throw new Error(t)}))},getUserData:function(t){var e={url:"/getUserID",method:"get",responseType:"json",params:{vanityurl:t}};return this.$axios(e).then((function(t){if(t.error)throw new Error(t.error);return t.data}))},getUserGames:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={url:"/getUserApps",method:"get",responseType:"json",params:{steamid:t,format:"json",include_appinfo:!0,include_played_free_games:!0}},n.next=3,e.$axios(r);case 3:return o=n.sent,n.abrupt("return",o.data.games);case 5:case"end":return n.stop()}}),n)})))()},toast:function(t,e,n){this.$bvToast.toast(n,{title:t,variant:e,autoHideDelay:5e3})}}},d=(n(243),n(65)),component=Object(d.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container ",attrs:{id:"page"}},[n("div",{staticClass:"absolute blur-bg"}),t._v(" "),t._m(0),t._v(" "),n("b-breadcrumb",[n("b-breadcrumb-item",{attrs:{active:"start"==t.selectedTabComponent},on:{click:function(e){t.selectedTabComponent="start"}}},[n("b-icon",{attrs:{icon:"house-fill",scale:"1.25","shift-v":"1.25","aria-hidden":"true"}}),t._v("\n      Start\n    ")],1),t._v(" "),"friends"==t.selectedTabComponent||"gameList"==t.selectedTabComponent?n("b-breadcrumb-item",{attrs:{active:"friends"==t.selectedTabComponent},on:{click:function(e){t.selectedTabComponent="friends"}}},[t._v("\n      Friend List\n    ")]):t._e(),t._v(" "),"gameList"==t.selectedTabComponent?n("b-breadcrumb-item",{attrs:{active:"gameList"==t.selectedTabComponent},on:{click:function(e){t.selectedTabComponent="gameList"}}},[t._v("\n      Game List\n    ")]):t._e()],1),t._v(" "),n("div",{staticClass:"content d-flex flex-column my-5"},[n("keep-alive",[n(t.currentComponent,{tag:"component",attrs:{gamelist:t.commonGameList,friendlist:t.friendlist},on:{usernameInput:t.onUsernameInput,useridInput:t.onUserIDInput,friendListInput:t.onFriendListInput}})],1)],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"header"}},[e("h1",[this._v("Game Picker")])])}],!1,null,null,null);e.default=component.exports}}]);